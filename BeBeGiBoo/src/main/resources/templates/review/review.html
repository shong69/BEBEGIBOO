<!DOCTYPE html>
<html lang="en" xmlns="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>review</title>

    <th:block th:replace="~{common/common}"></th:block>
    <link rel="stylesheet" href="/css/page/review.css"></link>
</head>
<body>
    <th:block th:replace="~{common/header}"></th:block>

    <main>
        <!--제목 배너-->
        <div id="titleArea">
            <span>후기 게시판</span>
        </div>
    
        <!--작성 버튼-->
        <div id="btnArea">
            <a><button id="insertBtn">작성</button></a>
        </div>

        <!--메인 내용-->
        <section id="tableArea">
            <table>
                <thead>
                    <tr id = "titleRow">
                        <th>제목</th>
                        <th>작성자</th>
                        <th>작성일</th>
                        <th>조회수</th>
                    </tr>
                </thead>
                <tbody>
                    <!--게시글 X-->
                    <th:block th:if="${#lists.isEmpty(reviewList)}">
                        <tr>
                            <th colspan="3">게시글이 존재하지 않습니다.</th>
                        </tr>
                    </th:block>
                    <!--게시글 O-->
                    <th:block th:unless="${#lists.isEmpty(boardList)}">
                        <tr th:each="board : ${boardList}" th:object="${board}">
                            <td>
                                <!--검색 O-->
                                <a th:unless="${param.key}" th:href="@{/review/{boardNo} (boardNo = *{boardNo}, cp=${pagination.currentPage})}" th:text="${boardTitle}">게시글 제목</a>
                                <!--검색 X-->
                                <a th:if="${param.key}" th:href="@{/review/{boardNo} (boardNo=*{boardNo},cp=${pagination.currentPage})}",
                                key="${param.key}" query="${param.query}" th:text="${boardTitle}">게시글 제목</a>

                                <th:block th:text="|*{commentCount}|">댓글 수</th:block>
                            </td>
                            <td>
                                <a th:text="*{memberId}">작성자 아이디</a>
                            </td>
                            <td>
                                <a th:text="*{boardWriteDate}">2025-01-01</a>
                            </td>
                            <td>
                                <a th:text="*{readCount}">0</a>
                            </td>

                        </tr>
                    </th:block>

                </tbody>
    
            </table>
        </section>
        
        <!--페이지네이션: 게시글이 있을 때만 보이도록-->
        <div class="paginationArea">
    
            <ul class = "pagination">
                <li><a>&lt;&lt;</a></li>
                <li><a>&lt;</a></li>
    
                <th:block>
                    <li ><a>현제페이지</a></li>
                    <li ><a>이동할 페이지</a></li>
                </th:block>
    
                <li><a>&gt;</a></li>
                <li><a>&gt;&gt;</a></li>
            </ul>
        </div>  
        
        
        <form method="get" id="boardSearch">
            <select name="key" id="searchKey">
                <option value="t">제목</option>
                <option value="c">내용</option>
                <option value="tc">제목+내용</option>
                <option value="w">작성자</option>
            </select>
            <input type="text" name="query" id="searchQuery" placeholder="검색어를 입력해주세요.">
            <button>검색</button>
        </form>
    </main>


</body>
<th:block th:replace="~{common/footer}"></th:block>
<script src="/js/review/reivew.js"></script>
</html>